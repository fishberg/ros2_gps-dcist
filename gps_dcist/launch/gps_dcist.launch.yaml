launch:
  - arg: { name: robot_name, default: "TESTBOT" }
  - arg: { name: launch_gps, default: "false" }
  - arg: { name: launch_gps_monitor, default: "false" }
  - arg: { name: launch_ntrip, default: "false" }
  - arg: { name: launch_ntrip_monitor, default: "false" }

  - push_ros_namespace: {namespace: $(var robot_name)}
  - set_remap: {from: /rtcm, to: rtcm}
  - set_remap: {from: ublox_gps_node/fix, to: fix}

  # run launch file for ublox
  - include:
      if: $(var launch_gps)
      file: $(find-pkg-share gps_dcist)/launch/ublox.launch.py
      #file: $(find-pkg-share ublox_gps)/launch/ublox_gps_node-composed-launch.py

  # run launch file for ntrip_client
  - include:
      if: $(var launch_ntrip)
      file: $(find-pkg-share gps_dcist)/launch/upenn_ntrip.launch.py

  # run our gps_monitor_node
  - node:
      if: $(var launch_gps_monitor)
      pkg: gps_dcist
      exec: gps_monitor_node
      name: gps_monitor_node
 
  # run our ntrip_monitor_node
  - node:
      if: $(var launch_ntrip_monitor)
      pkg: gps_dcist
      exec: ntrip_monitor_node
      name: ntrip_monitor_node